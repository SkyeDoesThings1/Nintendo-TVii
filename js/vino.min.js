const express=require("express"),app=express(),https=require("https"),fs=require("fs"),path=require("path"),port=443,privateKey=fs.readFileSync("certs/key.pem"),certificate=fs.readFileSync("certs/cert.pem");app.set("view engine","ejs"),app.use("/css",express.static(__dirname+"/css")),app.use("/js",express.static(__dirname+"/js")),app.use("/src",express.static(__dirname+"/src")),app.get("/",(e,r)=>{r.render("setup")}),app.get("/main",(e,r)=>{r.render("main")}),app.get("/whitelist.txt",(e,r)=>{if("us"===e.query.country){const e=path.join(__dirname,"src","whitelist.txt");r.download(e,e=>{e&&(console.error("Error sending file:",e),r.status(500).send("Internal Server Error"))})}else r.status(404).send("Not found")}),https.createServer({key:privateKey,cert:certificate},app).listen(port,()=>{console.log(`Server running on https://localhost:${port}`)});